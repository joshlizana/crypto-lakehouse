# =============================================================================
# Lakehouse Crypto - Environment Configuration
# =============================================================================
# Copy this file to .env and adjust values as needed

# -----------------------------------------------------------------------------
# SeaweedFS (S3-compatible object storage)
# -----------------------------------------------------------------------------
SEAWEEDFS_MASTER_HOST=seaweedfs-master
SEAWEEDFS_MASTER_PORT=9333
SEAWEEDFS_S3_HOST=seaweedfs-s3
SEAWEEDFS_S3_PORT=8333
SEAWEEDFS_ACCESS_KEY=admin
SEAWEEDFS_SECRET_KEY=admin

# S3 endpoint for clients
S3_ENDPOINT=http://seaweedfs-s3:8333
S3_BUCKET_BRONZE=bronze
S3_BUCKET_SILVER=silver
S3_BUCKET_GOLD=gold
S3_BUCKET_CHECKPOINTS=checkpoints

# -----------------------------------------------------------------------------
# Kafka
# -----------------------------------------------------------------------------
KAFKA_BOOTSTRAP_SERVERS=kafka:9092
KAFKA_TOPIC_RAW_TRADES=coinbase.raw.trades
KAFKA_TOPIC_DLQ=coinbase.dlq
KAFKA_CONSUMER_GROUP=lakehouse-consumer

# -----------------------------------------------------------------------------
# Nessie (Iceberg Catalog)
# -----------------------------------------------------------------------------
NESSIE_URI=http://nessie:19120/api/v1
NESSIE_DEFAULT_BRANCH=main

# -----------------------------------------------------------------------------
# Spark
# -----------------------------------------------------------------------------
SPARK_MASTER=spark://spark-master:7077
SPARK_DRIVER_MEMORY=2g
SPARK_EXECUTOR_MEMORY=4g
SPARK_EXECUTOR_CORES=2

# -----------------------------------------------------------------------------
# Airflow
# -----------------------------------------------------------------------------
AIRFLOW__CORE__EXECUTOR=LocalExecutor
AIRFLOW__CORE__SQL_ALCHEMY_CONN=postgresql+psycopg2://airflow:airflow@postgres:5432/airflow
AIRFLOW__CORE__FERNET_KEY=your-fernet-key-here
AIRFLOW__CORE__LOAD_EXAMPLES=false
AIRFLOW__WEBSERVER__SECRET_KEY=your-secret-key-here

# -----------------------------------------------------------------------------
# Trino
# -----------------------------------------------------------------------------
TRINO_HOST=trino
TRINO_PORT=8082
TRINO_CATALOG=iceberg
TRINO_SCHEMA=silver

# -----------------------------------------------------------------------------
# Grafana
# -----------------------------------------------------------------------------
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=admin
GF_USERS_ALLOW_SIGN_UP=false

# -----------------------------------------------------------------------------
# Prometheus
# -----------------------------------------------------------------------------
PROMETHEUS_HOST=prometheus
PROMETHEUS_PORT=9090

# -----------------------------------------------------------------------------
# Coinbase Producer
# -----------------------------------------------------------------------------
COINBASE_WS_URL=wss://ws-feed.exchange.coinbase.com
COINBASE_TRADING_PAIRS=BTC-USD,ETH-USD,SOL-USD,DOGE-USD
COINBASE_CHANNELS=matches,ticker

# -----------------------------------------------------------------------------
# Processing Configuration
# -----------------------------------------------------------------------------
# Spark Streaming micro-batch interval (seconds)
STREAMING_TRIGGER_INTERVAL=10

# Batch processing lookback window (hours)
BATCH_LOOKBACK_HOURS=2

# -----------------------------------------------------------------------------
# Data Quality
# -----------------------------------------------------------------------------
GE_DATA_DOCS_HOST=0.0.0.0
GE_DATA_DOCS_PORT=8083
